{"ast":null,"code":"import axios from \"axios\";\nimport authHeader from \"./auth-header\";\nconst API_URL = process.env.REACT_APP_API_URL;\n\nclass AuthService {\n  AdminLogin(email_id, password) {\n    const insertData = new FormData();\n    insertData.set('email_id', email_id);\n    insertData.set('password', password); //loginadmin\n\n    return axios //  .post(API_URL + \"login\", insertData )\n    .post(API_URL + \"login/loginadmin\", insertData).then(response => {\n      console.log(\"loging resp\");\n      console.log(response);\n\n      if (response.data.token && typeof response.data.token !== \"undefined\" && response.data.token !== \"\") {\n        console.log(\"auth token\");\n        console.log(JSON.stringify(response.data));\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      } else {\n        localStorage.removeItem(\"user\");\n      }\n\n      return response.data;\n    }); // const insertData = new FormData();\n    // return axios\n    //   //.post(API_URL + \"api/admin/admin_login\", { email_id, password })\n    //   .post(API_URL + \"/login\",insertData)\n    //   .then((response) => {\n    //     if (response.data.token && typeof response.data.token !==\"undefined\" && response.data.token!==\"\") {\n    //       localStorage.setItem(\"user\", JSON.stringify(response.data));\n    //     }else{\n    //       localStorage.removeItem(\"user\");\n    //     }\n    //     return response.data;\n    //   });\n  }\n\n  UserLoginOtp(mobile_no) {\n    return axios.post(API_URL + \"api/admin/login\", {\n      mobile_no\n    }).then(response => {\n      return response.data;\n    });\n  }\n\n  UserLoginOtpVerify(mobile_no, otp) {\n    return axios.post(API_URL + \"api/admin/login_otp_verify\", {\n      mobile_no,\n      otp\n    }).then(response => {\n      console.log(\"service response:\");\n      console.log(response);\n\n      if (response.data.token && typeof response.data.token !== \"undefined\" && response.data.token !== \"\") {\n        localStorage.setItem(\"user\", JSON.stringify(response.data));\n      } else {\n        localStorage.removeItem(\"user\");\n      }\n\n      return response.data;\n    });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"userId\");\n  }\n\n  logoutAdmin() {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"userId\");\n  }\n\n}\n\nexport default new AuthService();","map":{"version":3,"sources":["G:/harrjNew/src/services/auth.service.js"],"names":["axios","authHeader","API_URL","process","env","REACT_APP_API_URL","AuthService","AdminLogin","email_id","password","insertData","FormData","set","post","then","response","console","log","data","token","JSON","stringify","localStorage","setItem","removeItem","UserLoginOtp","mobile_no","UserLoginOtpVerify","otp","logout","logoutAdmin"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport authHeader from \"./auth-header\";\n\nconst API_URL = process.env.REACT_APP_API_URL;\n\nclass AuthService {\n  AdminLogin(email_id, password) {\n\n    const insertData = new FormData();\n    insertData.set('email_id', email_id);\n    insertData.set('password', password);\n//loginadmin\n    return axios\n    //  .post(API_URL + \"login\", insertData )\n    .post(API_URL + \"login/loginadmin\", insertData )\n      .then((response) => {\n        console.log(\"loging resp\")\n        console.log(response)\n        if (response.data.token && typeof response.data.token !==\"undefined\" && response.data.token!==\"\") {\n\n          console.log(\"auth token\")\n          console.log(JSON.stringify(response.data))\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\n        \n        }else{\n          localStorage.removeItem(\"user\");\n        }  \n        return response.data;\n      });\n\n\n    // const insertData = new FormData();\n   \n  \n    // return axios\n    //   //.post(API_URL + \"api/admin/admin_login\", { email_id, password })\n    //   .post(API_URL + \"/login\",insertData)\n    //   .then((response) => {\n\n    //     if (response.data.token && typeof response.data.token !==\"undefined\" && response.data.token!==\"\") {\n    //       localStorage.setItem(\"user\", JSON.stringify(response.data));\n    //     }else{\n    //       localStorage.removeItem(\"user\");\n    //     }\n\n    //     return response.data;\n    //   });\n  }\n  \n  UserLoginOtp(mobile_no) {\n    return axios\n      .post(API_URL + \"api/admin/login\", { mobile_no })\n      .then((response) => {\n        return response.data;\n      });\n  }\n\n  UserLoginOtpVerify(mobile_no, otp) {\n    return axios\n      .post(API_URL + \"api/admin/login_otp_verify\", { mobile_no, otp })\n      .then((response) => {\n\n        console.log(\"service response:\");\n        console.log(response);\n        \n        if (response.data.token && typeof response.data.token !==\"undefined\" && response.data.token!==\"\") {\n          localStorage.setItem(\"user\", JSON.stringify(response.data));\n        }else{\n          localStorage.removeItem(\"user\");\n        }\n\n        return response.data;\n      });\n  }\n\n  logout() {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"userId\");\n  }\n\n  logoutAdmin() {\n    localStorage.removeItem(\"user\");\n    localStorage.removeItem(\"userId\");\n  }\n}\n\nexport default new AuthService();\n"]},"metadata":{},"sourceType":"module"}